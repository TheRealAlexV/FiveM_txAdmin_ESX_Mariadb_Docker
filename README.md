# [TheRealAlexV/txAdmin_FiveM_Docker] <img align="right" height="250px" src="https://portforward.com/fivem/fivem-logo.png">

This docker image allows you to run a server for FiveM, a modded GTA multiplayer program.
This image includes [txAdmin](https://github.com/tabarra/txAdmin), an in-browser server management software.

Upon first run, the configuration is generated in the host mount for the `/config` directory, and for the `/txData` directory (that contains the txAdmin configuration).

## Licence Key

A freely obtained licence key is required to use this server, which should be declared as `FIVEM_LICENCE_KEY`. 

A tutorial on how to obtain a licence key can be found [here](https://forum.fivem.net/t/explained-how-to-make-add-a-server-key/56120)

You will also need to obtain your `STEAM_WEBAPIKEY` by going [here](https://steamcommunity.com/dev/apikey).

## Usage

Use the docker-compose script as provided after configuring the Environment Varibles in the .env file.

1. `cp .env.example .env`
2. `nano .env`
3. `docker-compose up -d`

To find the txAdmin login details and pin:
`docker-compose logs | grep "All ready! Please access" -A 7 -B 2`

Note: You should be able to access txAdmin from any IP bound to your docker host.

### Environment Varibles

- `TXADMIN_PORT` - Port used for getting to txAdmin webgui. Will be used in the server.cfg.
- `FIVEM_PORT` - Port used to connect to the FiveM Server. Will be used in the server.cfg.
- `STEAM_WEBAPIKEY` - This is you Steam Web api key. Will be used in the server.cfg.
- `FIVEM_HOSTNAME` - This will be the FiveM Server name in game. Will be used in the server.cfg.
- `FIVEM_LICENCE_KEY` - This is you FiveM License key wich is needed to start the server. Will be used in the server.cfg.
- `DATABASE_SERVICE_NAME` - Has to be the same as the service name. Will be used in the server.cfg. 
- `MYSQL_DATABASE` - This is what you want your database to be named. Will be used in the server.cfg. 
- `MYSQL_USER` - This is the database user name. Change to what you want. Will be used in the server.cfg. 
- `MYSQL_PASSWORD` - This is the database password. Change to what you want. Will be used in the server.cfg. 
- `RCON_PASSWORD` - A password to use for the RCON functionality of the fxserver. If not specified, a random 16 character password is assigned. This is only used upon creation of the default configs
- `HOST_GID` - The files that are generated by the container will be written with this group ID. You must use numeric IDs. If not specified, will use `0` (root).
- `HOST_UID` - The files that are generated by the container will be written with this user ID. You must use numeric IDs. If not specified, will use `0` (root).
- `SERVER_PROFILE` - profile name used by txAdmin. If not specified, will use `dev_server`.
